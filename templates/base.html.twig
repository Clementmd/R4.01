<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="Démo SF">
		<meta name="author" content="UGA/IUT2/INFO">
		<link rel="icon" href="{{ asset('images/favicon.ico') }}">
		<title>
			{% block title %}
				TODO : définir contenu block title
			{%  endblock %}
		</title>
		<!-- CSS : Bootstrap, Fontawsome, projet (styles communs à tout le projet) -->
		<link href="{{ asset('css/bootstrap-4/bootstrap.min.css') }}" rel="stylesheet">
		<link href="{{ asset('css/fontawsome-5.all.min.css') }}" rel="stylesheet">
		<link href="{{ asset('css/projet.css') }}" rel="stylesheet">
		<!-- début du block css spécifique -->
		{% block css %}{%  endblock %}
		<!-- fin du block css -->
	</head>
	<body>
		<!-- début de la navbar -->
		{% include "navbar.html.twig" %}
		<!-- fin de la navbar -->
		<main role="main" class="container-fluid">
			<div class="row">
				<div class="col-md-10">
					<div
						class="main-div">
						<!-- début du block body -->
						{%  block body %}
							<h1>
								<i>TODO : définir contenu block body</i>
							</h1>
						{%  endblock %}
						<!-- fin du block body -->
					</div>
				</div>
			</div>
		</main>
		<!-- JS : JQuery, Bootstrap -->
		<script src="{{ asset('js/jquery-3/jquery.slim.min.js') }}"></script>
		<script src="{{ asset('js/bootstrap-4/bootstrap.bundle.min.js') }}"></script>
		<script>
			$(function () {
				// Activation tooltip bootstrap sur la page
				$('[data-toggle="tooltip"]').tooltip();
			});

            // TODO
            // Coder ici la fonction appelée lors de la recherche d'un produit
            function onSearchClick(searchString) {
            }
		</script>
		{% block js %}
            <script>
            document.addEventListener('DOMContentLoaded', function() {
            const btn = document.getElementById('btn-recherche');
            const input = document.getElementById('input-recherche');

            if (btn && input) {
                btn.addEventListener('click', function() {
                const saisie = input.value;
                const rechercheEncodee = encodeURIComponent(saisie);
                const urlBase = "{{ path('app_boutique_chercher', {'_locale': app.request.locale, 'recherche': ''}) }}";
                window.location.href = urlBase + rechercheEncodee;
            });

            input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {btn.click();}
            });
            }
            });
            </script>
        {%  endblock %}
	</body>
</html>
